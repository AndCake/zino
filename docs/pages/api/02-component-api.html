<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Component API</title>
  <meta name="description" content="A micro component framework - easy to learn and powerful.
">

  <link rel="stylesheet" href="/zino/css/main.css">
  <link rel="canonical" href="https://andcake.github.io/zino/pages/api/02-component-api.html">
  <link rel="alternate" type="application/rss+xml" title="zino" href="https://andcake.github.io/zino/feed.xml">
</head>


  <body>

    <a href="https://github.com/AndCake/zino"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

<header class="site-header">
<nav class="site-nav">
    <a class="site-title" href="/zino/">zino</a>

  <a href="#" class="menu-icon">
    <svg viewBox="0 0 18 15">
      <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
      <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
      <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
    </svg>
  </a>

  <ul class="trigger">
      
        
      
        
        <li>
            <a class="page-link" href="/zino/getting-started">Getting Started</a>
            <ul>
            
            </ul>
        </li>
        
      
        
      
        
      
        
      
        
        <li>
            <a class="page-link" href="/zino/tutorial">Tutorial</a>
            <ul>
            
                <li><a class="page-link" href="/zino/pages/tutorial/01-first-component.html">Your First Component</a></li>
            
                <li><a class="page-link" href="/zino/pages/tutorial/02-backend-communication.html">Backend Communication</a></li>
            
                <li><a class="page-link" href="/zino/pages/tutorial/03-styling-components.html">Styling Components</a></li>
            
                <li><a class="page-link" href="/zino/pages/tutorial/04-best-practices.html">Component Best-practices</a></li>
            
            </ul>
        </li>
        
      
        
        <li>
            <a class="page-link" href="/zino/api">API</a>
            <ul>
            
                <li><a class="page-link" href="/zino/pages/api/01-zino-api.html">Zino API</a></li>
            
                <li><a class="page-link" href="/zino/pages/api/02-component-api.html">Component API</a></li>
            
            </ul>
        </li>
        
      
        
      
        
      
        
        <li>
            <a class="page-link" href="/zino/templates">Templating</a>
            <ul>
            
                <li><a class="page-link" href="/zino/templates#variables">Variables</a></li>
            
                <li><a class="page-link" href="/zino/templates#sections--conditions--iterations">Conditions/Iterations</a></li>
            
                <li><a class="page-link" href="/zino/templates#inverted-sections">Inverted Sections</a></li>
            
                <li><a class="page-link" href="/zino/templates#section-keys">Section Keys</a></li>
            
                <li><a class="page-link" href="/zino/templates#style-tag">Style Tag</a></li>
            
                <li><a class="page-link" href="/zino/templates#transfer-tag">Transfer Tag</a></li>
            
            </ul>
        </li>
        
      
        
        <li>
            <a class="page-link" href="/zino/testing">Testing</a>
            <ul>
            
            </ul>
        </li>
        
      
        
        <li>
            <a class="page-link" href="/zino/events">Events</a>
            <ul>
            
            </ul>
        </li>
        
      
        
      
        
      
        
      
        
      
  </ul>

  <hr>

  <ul class="trigger">
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </ul>

  <a href="https://github.com/AndCake/zino">View the Project on GitHub</a>

</nav>
</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Component API</h1>
  </header>

  <div class="post-content">
    <p>Importing components on page via:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">type=</span><span class="s">"zino/tag"</span> <span class="na">href=</span><span class="s">"..."</span><span class="nt">/&gt;</span></code></pre></figure>

<p>All the script tags that are part of a component are evaluated. If any of them returns an object, it’s properties are bound to the component.</p>

<h3 id="component-properties">Component Properties</h3>

<p>There are certain default properties that do exist for every component implicitly:</p>

<h4 id="events">events</h4>

<p>Used to define any events that should be applied to the components sub-elements. The structure of this object is:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">events</span><span class="err">:</span> <span class="p">{</span>
	<span class="o">&lt;</span><span class="nx">CSS</span><span class="o">-</span><span class="nx">selector</span><span class="o">&gt;</span><span class="err">:</span> <span class="p">{</span>
		<span class="o">&lt;</span><span class="nx">event</span><span class="o">-</span><span class="nx">to</span><span class="o">-</span><span class="nx">listen</span><span class="o">-</span><span class="k">for</span><span class="o">&gt;</span><span class="err">:</span> <span class="o">&lt;</span><span class="nx">event</span><span class="o">-</span><span class="nx">handler</span><span class="o">&gt;</span><span class="p">,</span>
		<span class="o">&lt;</span><span class="nx">another</span><span class="o">-</span><span class="nx">event</span><span class="o">&gt;</span><span class="err">:</span> <span class="o">&lt;</span><span class="nx">another</span><span class="o">-</span><span class="nx">event</span><span class="o">-</span><span class="nx">handler</span><span class="o">&gt;</span><span class="p">,</span>
		<span class="p">...</span>
	<span class="p">},</span>
	<span class="o">&lt;</span><span class="nx">another</span><span class="o">-</span><span class="nx">css</span><span class="o">-</span><span class="nx">selector</span><span class="o">&gt;</span><span class="err">:</span> <span class="p">{</span>
		<span class="p">...</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>A special CSS selector can be used to bind an event to the component tag itself: <code class="highlighter-rouge">:host</code>.
The <code class="highlighter-rouge">this.getHost()</code> function can be used to access the component that event’s target element belongs to.</p>

<p><em>Example:</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">events</span><span class="err">:</span> <span class="p">{</span>
	<span class="c1">// define events on all "A" tags in our component</span>
	<span class="nl">a</span><span class="p">:</span> <span class="p">{</span>
		<span class="c1">// define a CLICK event</span>
		<span class="nl">click</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
			<span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s1">'my-other-url'</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="c1">// define events for all text INPUT elements in our component</span>
	<span class="s1">'input[type="text"]'</span><span class="err">:</span> <span class="p">{</span>
		<span class="c1">// define a CHANGE event for them</span>
		<span class="nl">change</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">getHost</span><span class="p">().</span><span class="nx">setProps</span><span class="p">(</span><span class="s1">'query'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h4 id="element">element</h4>

<p>An object used to access the original tag’s content before it is rendered. It uses a JSON-notation to allow access to child elements.</p>

<p><em>Example:</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// given the following structure:</span>
<span class="c1">// &lt;my-tag&gt;</span>
<span class="c1">//    &lt;div&gt;&lt;a href="#test" title="my title"&gt;click me&lt;/a&gt;&lt;/div&gt;</span>
<span class="c1">//    &lt;div&gt;&lt;p&gt;lorem ipsum&lt;/p&gt;&lt;/div&gt;</span>
<span class="c1">// &lt;/my-tag&gt;</span>

<span class="c1">// this will extract the A-tag's title attribute</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">div</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">a</span><span class="p">.</span><span class="nx">title</span></code></pre></figure>

<h4 id="body">body</h4>

<p>An attribute of the custom element allowing read/write access to it’s content. When using for write-access, the tag is automatically re-rendered.</p>

<p><em>Example:</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// somewhere on the page</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'my-custom-tag'</span><span class="p">).</span><span class="nx">body</span> <span class="o">=</span> <span class="s1">'this is my new content'</span><span class="p">;</span></code></pre></figure>

<h4 id="isrendered">isRendered</h4>

<p>An attribute defining whether or not this element has been rendered already. Usually, during mount time, this value is <code class="highlighter-rouge">false</code>. When the <code class="highlighter-rouge">render()</code> function is called, this value is <code class="highlighter-rouge">true</code>. However, if a component is pre-rendered before mounting (e.g. server-side rendering), the attribute <code class="highlighter-rouge">isRendered</code> will be <code class="highlighter-rouge">true</code> even in the mount function.</p>

<p><em>Example:</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// somewhere is your component</span>
<span class="nl">mount</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// whenever something in the store changes</span>
	<span class="nx">Zino</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'update-from-store'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// re-render</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">getHost</span><span class="p">().</span><span class="nx">setProps</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
	<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

	<span class="c1">// only ask the store for data if we haven't been rendered already</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isRendered</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">Zino</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'ask-my-store'</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h4 id="props">props</h4>

<p>An object used to define the initial internal state of the component. You can read the state by using <code class="highlighter-rouge">this.props.&lt;prop-name&gt;</code>, however, never write a value to the state using this syntax. Instead use <code class="highlighter-rouge">this.setProps('&lt;prop-name&gt;', &lt;prop-value&gt;);</code>, else there will be no automatic re-rendering of the component upon state-change.</p>

<p><em>Example:</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">props</span><span class="err">:</span> <span class="p">{</span>
	<span class="nl">myprop</span><span class="p">:</span> <span class="s1">'Hello, World!'</span><span class="p">,</span>
	<span class="nx">myOtherProp</span><span class="err">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">}</span></code></pre></figure>

<h4 id="render">render</h4>

<p>A function that called whenever the component has been re-rendered. This is usually a good place to call initialization functions for libraries that require the finished DOM part.</p>

<h4 id="mount">mount</h4>

<p>A function that is called whenever the component is added to the page. This function is usually a good place to do some basic initialization, for example connecting to a store through the dispatcher</p>

<h4 id="unmount">unmount</h4>

<p>A function that is called when the component is removed from the page again. This function is a good place to cleanup any used resources and to disconnect from stores.</p>

<h4 id="styles">styles</h4>

<p>An object to define any component-specific styling in JS-form. It’s structure should be as follows:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">styles</span><span class="err">:</span> <span class="p">{</span>
	<span class="o">&lt;</span><span class="nx">name</span><span class="o">&gt;</span><span class="err">:</span> <span class="p">{</span>
		<span class="o">&lt;</span><span class="nx">css</span><span class="o">-</span><span class="nx">property</span><span class="o">&gt;</span><span class="err">:</span> <span class="o">&lt;</span><span class="nx">css</span><span class="o">-</span><span class="nx">property</span><span class="o">-</span><span class="nx">value</span><span class="o">&gt;</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>CSS property values can be strings, numbers or functions returning any of them. Strings will be directly applied as is, numbers will be converted to PX before the style is applied and functions will be called with the currently available data-context (provided in this) in order to retrieve the respective value.</p>

<p>CSS properties are camelCased. However, please note, that vendor-prefixes other than “ms” should begin with a capital letter.</p>

<p><em>Example:</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">styles</span><span class="err">:</span> <span class="p">{</span>
	<span class="nl">link</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span><span class="na">color</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="p">};</span>
	<span class="p">},</span>
	<span class="nx">button</span><span class="err">:</span> <span class="p">{</span>
		<span class="nl">border</span><span class="p">:</span> <span class="s1">'1px solid red'</span><span class="p">,</span>
		<span class="nx">color</span><span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span> <span class="p">},</span>
		<span class="nx">WebkitTransition</span><span class="err">:</span> <span class="s1">'all'</span><span class="p">,</span>	<span class="c1">// notice the upper-cased W here</span>
		<span class="nx">msTransition</span><span class="err">:</span> <span class="s1">'all'</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h4 id="gethost">getHost()</h4>

<p>Returns the component’s instance. Use this to call <code class="highlighter-rouge">setProps()</code> and other instance methods from within event handlers.</p>

<h4 id="setpropsprop-value">setProps(prop[, value])</h4>

<p>Call this function in order to update your props and trigger a re-render with the updated values.</p>

<p>The first parameter <code class="highlighter-rouge">prop</code> can be a the name of a prop (type string) or an object containing multiple props and their values. The second parameter is only used, if <code class="highlighter-rouge">prop</code> is a string to represent the prop’s value.</p>

<p><em>Never try to update your props without this method, unless you know what you are doing.</em></p>

<h4 id="onready">onready</h4>

<p>Once a component is initialized, meaning mounted and rendered, an optional <code class="highlighter-rouge">onready</code> function notifies you that this happened. Example:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// somewhere in your code</span>
<span class="p">...</span>

<span class="c1">// import the component we want to add to the DOM</span>
<span class="nx">Zino</span><span class="p">.</span><span class="kr">import</span><span class="p">(</span><span class="s1">'my-tag'</span><span class="p">);</span>

<span class="c1">// create the component's element</span>
<span class="kd">var</span> <span class="nx">myNewTag</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'my-tag'</span><span class="p">);</span>
<span class="nx">myNewTag</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'myattr'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">// register the onready handler</span>
<span class="nx">myNewTag</span><span class="p">.</span><span class="nx">onready</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// call setProps on myNewTag once the component is ready</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">getHost</span><span class="p">().</span><span class="nx">setProps</span><span class="p">(</span><span class="s1">'prop1'</span><span class="p">,</span> <span class="s1">'value1'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// attach the component to the DOM</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">myNewTag</span><span class="p">);</span>
<span class="p">...</span></code></pre></figure>

<h4 id="custom-properties">Custom properties</h4>

<p>You can define additional properties for the component that will be automatically bound to the component upon mounting by returning them in any of the component’s script tags.</p>

<p>Since all these functions are bound to the Zino component they were defined for, you can access all methods and attributes of that tag via the DOM API. Example:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">	<span class="c">&lt;!-- tag is used --&gt;</span>
	<span class="nt">&lt;my-tag</span> <span class="na">myattr=</span><span class="s">"1"</span><span class="nt">&gt;&lt;/my-tag&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">	<span class="c1">// in your tag's JS code then:</span>
	<span class="nl">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">myattr</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="s1">'1'</span> <span class="c1">// true</span>
	<span class="p">}</span></code></pre></figure>


  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">zino</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/AndCake"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">AndCake</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>A micro component framework - easy to learn and powerful.
</p>
      </div>
    </div>

  </div>

</footer>

<script>
    [].slice.call(document.querySelectorAll('.site-nav li')).forEach(function(li) {
        if (li.querySelector('a[href]').href === location.href) {
            li.classList.add('active');
            if (li.parentNode.parentNode.tagName === 'LI') {
                li.parentNode.parentNode.classList.add('active');
            }
        }
    });
</script>


  </body>

</html>
